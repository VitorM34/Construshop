<% content_for :title, "Detalhes do Produto" %>

<% if notice.present? %>
  <p class="text-green-600 text-center mb-4 font-semibold"><%= notice %></p>
<% end %>

<div class="max-w-4xl mx-auto bg-white shadow-md rounded-2xl p-6 mt-6 flex flex-col md:flex-row gap-6">
  <!-- Imagem -->
  <div class="w-full md:w-1/2 flex items-center justify-center">
    <% if @produto.imagem.attached? %>
      <%= image_tag url_for(@produto.imagem), class: "rounded-xl w-full h-auto object-contain max-h-96" %>
    <% else %>
      <div class="w-full h-64 bg-gray-100 flex items-center justify-center text-gray-400 text-sm rounded-xl">
        Sem imagem
      </div>
    <% end %>
  </div>

  <!-- Informações do produto -->
  <div class="w-full md:w-1/2 flex flex-col justify-between">
    <div>
      <h1 class="text-2xl font-bold text-gray-800 mb-2"><%= @produto.nome %></h1>
      <p class="text-3xl font-extrabold text-gray-900 mb-6">
        R$ <%= number_to_currency(@produto.preco, unit: "", separator: ",", delimiter: ".") %>
        <p class="text-gray-600 text-base mb-4">Descrição: <%= @produto.descricao %></p>
      </p>
    </div>

  <!-- Ações principais -->
<div class="space-y-3 mt-6">
  <% if policy(@produto).edit? %>
    <%= link_to "Editar", edit_produto_path(@produto),
      class: "w-full inline-block text-center px-4 py-2 rounded-lg border border-blue-600 text-blue-600 hover:bg-blue-50 transition" %>
  <% end %>

  <% if policy(@produto).destroy? %>
    <%= button_to "Excluir", produto_path(@produto),
      method: :delete,
      data: { confirm: "Tem certeza que deseja excluir?" },
      class: "w-full inline-block text-center px-4 py-2 rounded-lg border border-red-600 text-red-600 hover:bg-red-50 transition" %>
  <% end %>

  <%= link_to "Comprar", "#",
    class: "w-full inline-block text-center px-4 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700 transition" %>

  <%= link_to "Voltar", produtos_path,
    class: "w-full inline-block text-center px-4 py-2 rounded-lg text-gray-500 hover:text-gray-700 transition" %>
</div>
</div>